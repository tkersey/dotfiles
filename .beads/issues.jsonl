{"id":".dotfiles-2dx","title":"Skill: loop (iterate skills until beads complete)","description":"Create a new Codex skill named loop. The skill accepts a markdown bullet list of $skill invocations (each item may include extra args, e.g. \"$fix this pr\"). It runs each item sequentially in the same session and repeats passes until stop condition: bd ready is empty AND there are no in_progress issues. No persistent state files; only run bd sync once at the end. Follow the skill-creator workflow; take light inspiration from ralph loop semantics.","acceptance_criteria":"- SKILL.md frontmatter uses name=loop and a description that clearly states when to use it.\n- Instructions define input parsing for markdown list items and how to treat each item as a skill invocation with args.\n- Loop algorithm specifies stop condition: bd ready empty AND bd list --status in_progress returns none.\n- No state directories or files are created; only bd sync is run once at completion.\n- Skill is packaged via package_skill.py after validation.","status":"closed","priority":2,"issue_type":"epic","owner":"t@k-t.im","created_at":"2026-01-18T15:21:03.500962-08:00","created_by":"Tim Kersey","updated_at":"2026-01-18T15:28:29.724356-08:00","closed_at":"2026-01-18T15:28:29.724356-08:00","close_reason":"Loop skill created, documented, validated, and packaged."}
{"id":".dotfiles-2dx.1","title":"Spec loop skill contract","description":"Define the loop behavior, inputs, and guardrails in plain language for SKILL.md: list parsing, per-item invocation with args, sequential execution, loop checks, and stop condition commands.","acceptance_criteria":"- Input format documented (markdown bullet list; items start with $skill and may include args).\n- Execution model documented (same session, sequential per item, repeat passes).\n- Stop condition documented with exact bd commands for ready + in_progress checks.\n- Handling for missing list or missing .beads stated (ask for list or stop with explanation).","notes":"## Status\n- Now: Spec recorded in bead comment.\n- Next: Close task.\n- Blockers: None.\n\n## Verification\n- [x] Spec recorded in bead comment.","status":"closed","priority":2,"issue_type":"task","assignee":"Tim Kersey","owner":"t@k-t.im","created_at":"2026-01-18T15:21:10.342248-08:00","created_by":"Tim Kersey","updated_at":"2026-01-18T15:26:48.301299-08:00","closed_at":"2026-01-18T15:26:48.301299-08:00","close_reason":"Documented loop skill contract (inputs, execution, stop checks).","dependencies":[{"issue_id":".dotfiles-2dx.1","depends_on_id":".dotfiles-2dx","type":"parent-child","created_at":"2026-01-18T15:21:10.34303-08:00","created_by":"Tim Kersey"}],"comments":[{"id":5,"issue_id":".dotfiles-2dx.1","author":"Tim Kersey","text":"Spec (loop skill contract)\n- Input: markdown bullet list; each item starts with $skill and may include trailing args (e.g. \"$fix this pr\"). Preserve list order; trim leading bullets/whitespace.\n- Execution: same-session, sequential per item. Treat each item as a direct skill invocation (pass through args verbatim).\n- Looping: after completing a full pass (and optionally after each item), check stop condition; if not met, repeat from first item.\n- Stop condition commands: `bd ready --limit 1 --json` must be empty AND `bd list --status in_progress --limit 1 --json` must be empty.\n- Missing list: ask user to supply a markdown list before proceeding.\n- Missing .beads: stop and explain beads are required for loop termination checks.","created_at":"2026-01-18T23:26:38Z"}]}
{"id":".dotfiles-2dx.2","title":"Implement loop skill SKILL.md","description":"Create codex/skills/loop via init_skill.py. Replace template with final SKILL.md content per contract; use imperative voice; keep under 500 lines; avoid extra resources unless needed.","acceptance_criteria":"- codex/skills/loop/SKILL.md exists with correct frontmatter and finalized content.\n- No unnecessary scripts/references/assets directories.\n- Instructions include loop algorithm, per-item invocation, stop condition checks, and bd sync at end.","notes":"## Status\n- Now: SKILL.md finalized for loop skill.\n- Next: Close task.\n- Blockers: None.\n\n## Verification\n- [x] SKILL.md updated with loop algorithm + stop condition.","status":"closed","priority":2,"issue_type":"task","assignee":"Tim Kersey","owner":"t@k-t.im","created_at":"2026-01-18T15:21:17.854736-08:00","created_by":"Tim Kersey","updated_at":"2026-01-18T15:27:56.159374-08:00","closed_at":"2026-01-18T15:27:56.159374-08:00","close_reason":"Implemented loop skill SKILL.md with algorithm + stop condition.","dependencies":[{"issue_id":".dotfiles-2dx.2","depends_on_id":".dotfiles-2dx","type":"parent-child","created_at":"2026-01-18T15:21:17.855489-08:00","created_by":"Tim Kersey"}]}
{"id":".dotfiles-2dx.3","title":"Validate and package loop skill","description":"Run skill-creator validation and package_skill.py for codex/skills/loop; place output in codex/skills/dist/.","acceptance_criteria":"- Validation passes with no errors.\n- loop.skill created under codex/skills/dist/.","notes":"## Status\n- Now: Validation passed; loop.skill packaged.\n- Next: Close task.\n- Blockers: None.\n\n## Verification\n- [x] Validation passes; loop.skill packaged in codex/skills/dist/.","status":"closed","priority":2,"issue_type":"task","assignee":"Tim Kersey","owner":"t@k-t.im","created_at":"2026-01-18T15:21:23.662662-08:00","created_by":"Tim Kersey","updated_at":"2026-01-18T15:28:24.623465-08:00","closed_at":"2026-01-18T15:28:24.623465-08:00","close_reason":"Validated and packaged loop skill to codex/skills/dist/loop.skill.","dependencies":[{"issue_id":".dotfiles-2dx.3","depends_on_id":".dotfiles-2dx","type":"parent-child","created_at":"2026-01-18T15:21:23.663433-08:00","created_by":"Tim Kersey"}]}
{"id":".dotfiles-99f","title":"re: generalize ghost-library extraction workflow","description":"## Goal\nEvolve the `re` Codex skill into a repeatable workflow for extracting a language-agnostic ghost library (SPEC + tests.yaml + install prompt) from *any* existing library repo.\n\n## Source of truth\n- Model the artifacts and tone after `whenwords` (`SPEC.md`, `tests.yaml`, `INSTALL.md`, `README.md`, `VERIFY.md`, plus the upstream `LICENSE`).\n- Use the *public API + tests* as the behavior contract.\n\n## Key decisions (from user)\n- Preserve the upstream repo license (copy `LICENSE*` as-is).\n- Generate a first-class `VERIFY.md` artifact.\n- Keep `tests.yaml` schema as in `whenwords` (exact `output` or `error: true`).\n- Use operation-id keys like `module.fn`, `Class#method`, `Class.method`.\n- Fidelity: try source-language adapter runner; if infeasible, sample + document gap in `VERIFY.md`.\n- Scope: public API + tests (docs fill gaps, but never contradict tests).","acceptance_criteria":"- `codex/skills/re/SKILL.md` updated to reflect the decisions above and a repo-agnostic extraction workflow.\n- `codex/skills/re/references/templates.md` updated to include `VERIFY.md` + operation-id conventions.\n- `codex/skills/re/references/verification.md` updated so it can be used to generate `VERIFY.md`.\n- No requirement to include source commit SHA/version metadata in ghost artifacts.","status":"closed","priority":2,"issue_type":"epic","owner":"t@k-t.im","created_at":"2026-01-18T16:46:39.193381-08:00","created_by":"Tim Kersey","updated_at":"2026-01-18T19:27:19.131397-08:00","closed_at":"2026-01-18T19:27:19.131397-08:00","close_reason":"Ship generalized re skill (VERIFY, op-ids, preserve license)","comments":[{"id":9,"issue_id":".dotfiles-99f","author":"Tim Kersey","text":"ChangeLog\n- Intent: Generalize `re` so it can extract `whenwords`-style ghost-library specs from any library repo.\n- Files: codex/skills/re/SKILL.md; codex/skills/re/references/templates.md; codex/skills/re/references/verification.md\n- Behavior: `re` now outputs `VERIFY.md`, standardizes operation ids (`module.foo`, `Class#method`, `Class.method`), preserves upstream `LICENSE*`, and prefers adapter-runner fidelity with sampling fallback.\n- Verify: bd show .dotfiles-99f  # children all closed\n- Next: Use `$re` on a real library repo to validate ergonomics.","created_at":"2026-01-19T03:27:19Z"}]}
{"id":".dotfiles-99f.1","title":"Update re skill doc for repo-agnostic extraction","description":"Update `codex/skills/re/SKILL.md` to be a repo-agnostic ghost-library extractor.\n\nMust cover:\n- How to detect the *public API* across languages (docs, exports, entrypoints).\n- How to translate multi-module APIs into operation ids (`module.fn`, `Class#method`, `Class.method`).\n- How to harvest behavior (tests-first, then code/docs for gaps).\n- How to normalize inputs for determinism (timestamps, locales, timezones).\n- How to handle errors: only `error: true` in `tests.yaml`.\n- Output artifact set includes `VERIFY.md` + preserves upstream `LICENSE*`.","acceptance_criteria":"- `codex/skills/re/SKILL.md` output section lists: `README.md`, `SPEC.md`, `tests.yaml`, `INSTALL.md`, `VERIFY.md`, `LICENSE*`, optional `.gitignore`.\n- Workflow explicitly defines operation-id naming rules for tests.\n- Workflow explicitly defines license preservation rules and what to do if no license exists.","notes":"## Status\n- Now: Completed `codex/skills/re/SKILL.md` rewrite.\n- Next: Close the epic once all child tasks are closed.\n- Blockers: None.\n\n## Verification\n- [x] rg -n \"VERIFY\\.md\" codex/skills/re/SKILL.md\n- [x] rg -n \"LICENSE\\*\" codex/skills/re/SKILL.md\n- [x] rg -n \"Class#method|module\\.foo\" codex/skills/re/SKILL.md\n- [x] rg -n \"references/(templates|verification)\\.md\" codex/skills/re/SKILL.md","status":"closed","priority":2,"issue_type":"task","owner":"t@k-t.im","created_at":"2026-01-18T16:46:39.277575-08:00","created_by":"Tim Kersey","updated_at":"2026-01-18T19:14:00.96227-08:00","closed_at":"2026-01-18T19:14:00.96227-08:00","close_reason":"Generalize re workflow (VERIFY.md, op-ids, preserve license)","dependencies":[{"issue_id":".dotfiles-99f.1","depends_on_id":".dotfiles-99f","type":"parent-child","created_at":"2026-01-18T16:46:39.278277-08:00","created_by":"Tim Kersey"}],"comments":[{"id":8,"issue_id":".dotfiles-99f.1","author":"Tim Kersey","text":"ChangeLog\n- Intent: Generalize `re` into a repo-agnostic ghost-library extractor modeled after `whenwords`.\n- Files: codex/skills/re/SKILL.md\n- Behavior: `re` now outputs `VERIFY.md`, standardizes operation ids (`module.foo`, `Class#method`, `Class.method`), preserves upstream `LICENSE*`, and uses adapter-first verification with sampling fallback.\n- Risk: None; doc-only changes.\n- Verify: rg -n \"VERIFY\\.md\" codex/skills/re/SKILL.md \u0026\u0026 rg -n \"LICENSE\\*\" codex/skills/re/SKILL.md \u0026\u0026 rg -n \"Class#method|module\\.foo\" codex/skills/re/SKILL.md\n- Next: Close epic `.dotfiles-99f`.","created_at":"2026-01-19T03:14:00Z"},{"id":10,"issue_id":".dotfiles-99f.1","author":"Tim Kersey","text":"Follow-up\n- Added a short public-API discovery checklist (exports/entrypoints) to step 1.\n- File: codex/skills/re/SKILL.md","created_at":"2026-01-19T04:27:15Z"}]}
{"id":".dotfiles-99f.2","title":"Update re templates (VERIFY.md + operation ids)","description":"Update `codex/skills/re/references/templates.md` to match the `whenwords` artifact model, adding:\n- `VERIFY.md` outline and required sections\n- `tests.yaml` section describing operation-id keys and the strict `output` vs `error: true` schema\n- `LICENSE*` guidance: copy upstream license files verbatim\n\nKeep templates language-agnostic and implementation-free.","acceptance_criteria":"- `codex/skills/re/references/templates.md` includes a `VERIFY.md` outline suitable for inclusion in generated ghost repos.\n- `codex/skills/re/references/templates.md` documents operation-id key conventions.","notes":"## Status\n- Now: Completed template updates.\n- Next: Update `codex/skills/re/references/verification.md`, then `codex/skills/re/SKILL.md`.\n- Blockers: None.\n\n## Verification\n- [x] rg -n \"VERIFY\\.md\" codex/skills/re/references/templates.md\n- [x] rg -n \"Class#method|module\\.foo\" codex/skills/re/references/templates.md","status":"closed","priority":2,"issue_type":"task","owner":"t@k-t.im","created_at":"2026-01-18T16:46:39.361013-08:00","created_by":"Tim Kersey","updated_at":"2026-01-18T18:01:18.117154-08:00","closed_at":"2026-01-18T18:01:18.117154-08:00","close_reason":"Update templates with VERIFY.md + operation ids","dependencies":[{"issue_id":".dotfiles-99f.2","depends_on_id":".dotfiles-99f","type":"parent-child","created_at":"2026-01-18T16:46:39.361686-08:00","created_by":"Tim Kersey"}],"comments":[{"id":6,"issue_id":".dotfiles-99f.2","author":"Tim Kersey","text":"ChangeLog\n- Intent: Add `VERIFY.md`, operation-id keys, and license guidance to ghost-library templates.\n- Files: codex/skills/re/references/templates.md\n- Behavior: Templates now describe `VERIFY.md`, standardize operation ids (`module.foo`, `Class#method`, `Class.method`), and instruct copying upstream `LICENSE*` verbatim.\n- Risk: Other `re` docs may still describe the old license policy until updated.\n- Verify: rg -n \"VERIFY\\.md\" codex/skills/re/references/templates.md \u0026\u0026 rg -n \"Class#method|module\\.foo\" codex/skills/re/references/templates.md\n- Next: Update `codex/skills/re/references/verification.md` and `codex/skills/re/SKILL.md` to align.","created_at":"2026-01-19T02:01:18Z"}]}
{"id":".dotfiles-99f.3","title":"Update verification guidance to generate VERIFY.md","description":"Update `codex/skills/re/references/verification.md` so the `re` skill can reliably produce a concrete `VERIFY.md` for the ghost repo.\n\nMust cover:\n- Preferred: source-language adapter runner executing `tests.yaml` against the original library\n- Fallback: representative sampling across operations + explicitly document limitations\n- Minimum checks: `tests.yaml` parses; case counts; coverage across success+error paths.","acceptance_criteria":"- `codex/skills/re/references/verification.md` aligns with the adapter-first policy and the required `VERIFY.md` artifact.","notes":"## Status\n- Now: Completed verification guidance update.\n- Next: Update `codex/skills/re/SKILL.md` to align with new templates + adapter-first policy.\n- Blockers: None.\n\n## Verification\n- [x] rg -n \"VERIFY\\.md\" codex/skills/re/references/verification.md\n- [x] rg -n \"adapter\" codex/skills/re/references/verification.md","status":"closed","priority":2,"issue_type":"task","owner":"t@k-t.im","created_at":"2026-01-18T16:46:39.444295-08:00","created_by":"Tim Kersey","updated_at":"2026-01-18T18:41:00.840397-08:00","closed_at":"2026-01-18T18:41:00.840397-08:00","close_reason":"Add VERIFY.md template + adapter-first guidance","dependencies":[{"issue_id":".dotfiles-99f.3","depends_on_id":".dotfiles-99f","type":"parent-child","created_at":"2026-01-18T16:46:39.444991-08:00","created_by":"Tim Kersey"}],"comments":[{"id":7,"issue_id":".dotfiles-99f.3","author":"Tim Kersey","text":"ChangeLog\n- Intent: Turn verification guidance into a usable `VERIFY.md` template and align with adapter-first fidelity.\n- Files: codex/skills/re/references/verification.md\n- Behavior: `re` now has a concrete `VERIFY.md` template plus explicit adapter-runner vs sampling fallback guidance.\n- Risk: The main `codex/skills/re/SKILL.md` doc still needs alignment.\n- Verify: rg -n \"VERIFY\\.md\" codex/skills/re/references/verification.md \u0026\u0026 rg -n \"adapter\" codex/skills/re/references/verification.md\n- Next: Update `codex/skills/re/SKILL.md` to match templates + verification policy.","created_at":"2026-01-19T02:41:00Z"}]}
{"id":".dotfiles-aem","title":"Merge skill: add git mode detection + dirty-state comment template","description":"Document git-only detection for local/remote mode and add a reusable dirty local state comment template in merge skill.","design":"## Decisions\n- Add git-only mode detection guidance; jj handling deferred to the JJ skill.\n- Provide a reusable dirty-local-state comment template in merge skill.","acceptance_criteria":"## Acceptance Criteria\n- `Operating modes` includes git-only commands for detecting current checkout and dirty state.\n- `Dirty local state` comment template exists and is referenced from the monitor loop.","notes":"## Status\n- Now: Review merge skill updates.\n- Next: Close bead.\n- Blockers: None.\n\n## Verification\n- [x] Manual review of `codex/skills/merge/SKILL.md` for git detection + comment template.","status":"closed","priority":2,"issue_type":"task","owner":"t@k-t.im","created_at":"2026-01-15T20:01:44.829463-08:00","created_by":"Tim Kersey","updated_at":"2026-01-15T20:02:32.721896-08:00","closed_at":"2026-01-15T20:02:32.721896-08:00","close_reason":"Implemented: merge skill now documents git mode detection and a dirty-state comment template.","comments":[{"id":3,"issue_id":".dotfiles-aem","author":"Tim Kersey","text":"ChangeLog\n- Intent: add git mode detection guidance + dirty-state comment template.\n- Files: codex/skills/merge/SKILL.md\n- Behavior: local/remote selection now includes git commands; dirty local state has a reusable comment body.\n- Risk: low; doc-only change.\n- Verify: manual review of codex/skills/merge/SKILL.md  # pending\n- Next: confirm wording, then close.","created_at":"2026-01-16T04:02:12Z"},{"id":4,"issue_id":".dotfiles-aem","author":"Tim Kersey","text":"Verification\n- Checked: codex/skills/merge/SKILL.md\n- Signal: git mode detection + dirty local state comment template present.","created_at":"2026-01-16T04:02:28Z"}]}
{"id":".dotfiles-bil","title":"Update merge skill: local-vs-remote mode selection","design":"## Decisions\n- Local mode = PR head branch is the currently checked-out branch; otherwise remote-only.\n- Local mode is preferred; dirty working tree means local changes exist and must be handled before proceeding (do not silently switch to remote-only).\n- VCS-aware: branch/bookmark distinctions do not matter; treat either as “current branch.”\n- jj detached checkouts still count as local (do not assume remote-only just because no branch is attached).\n- Name match is sufficient; no upstream-tracking requirement.\n\n## Consequences\n- Mode selection must first inspect current checkout; if it matches the PR head, stay local even if dirty.\n- Dirty local state should trigger a stop/hold + guidance to clean or push before continuing.","acceptance_criteria":"## Acceptance Criteria\n- `Operating modes` defines local vs remote by current checkout vs PR head branch.\n- A `Mode selection` or equivalent checklist explicitly handles dirty working trees (stop/hold, do not auto-remote).\n- jj detached state is documented as still local when matching the PR head.\n- No upstream tracking requirement is stated; name match is sufficient.","notes":"## Status\n- Now: Review merge skill wording for local-vs-remote mode selection.\n- Next: Close bead after confirmation.\n- Blockers: None.\n\n## Verification\n- [x] Manual review of `codex/skills/merge/SKILL.md` for mode selection + dirty-state handling.","status":"closed","priority":2,"issue_type":"task","owner":"t@k-t.im","created_at":"2026-01-15T19:55:17.447349-08:00","created_by":"Tim Kersey","updated_at":"2026-01-15T19:58:11.821109-08:00","closed_at":"2026-01-15T19:58:11.821109-08:00","close_reason":"Implemented: merge skill now selects local mode by current checkout and blocks on dirty local state.","comments":[{"id":1,"issue_id":".dotfiles-bil","author":"Tim Kersey","text":"ChangeLog\n- Intent: define local-vs-remote mode selection based on current checkout.\n- Files: codex/skills/merge/SKILL.md\n- Behavior: local mode is chosen when the PR head matches the current checkout; dirty local state blocks with auto:hold instead of falling back to remote.\n- Risk: low; doc-only change.\n- Verify: manual review of codex/skills/merge/SKILL.md  # pending\n- Next: confirm wording meets expectations, then close.","created_at":"2026-01-16T03:57:50Z"},{"id":2,"issue_id":".dotfiles-bil","author":"Tim Kersey","text":"Verification\n- Checked: codex/skills/merge/SKILL.md\n- Signal: local-vs-remote mode selection and dirty-state handling documented as requested.","created_at":"2026-01-16T03:58:08Z"}]}
{"id":".dotfiles-dsk","title":"mesh vNext: formula-first bd-native orchestration","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-10T23:15:11.611361-08:00","created_by":"tk","updated_at":"2026-01-10T23:15:11.611361-08:00"}
{"id":".dotfiles-dsk.1","title":"mesh vNext: contracts","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-10T23:15:11.671198-08:00","created_by":"tk","updated_at":"2026-01-15T17:06:07.471233-08:00","closed_at":"2026-01-15T17:06:07.471233-08:00","close_reason":"Closed","dependencies":[{"issue_id":".dotfiles-dsk.1","depends_on_id":".dotfiles-dsk","type":"parent-child","created_at":"2026-01-10T23:15:11.679446-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.1.1","title":"Contract: lock groups (mesh-lock:\u003cgroup\u003e) + scheduler rule","notes":"## Status\n- Now: Define lock-group convention + scheduler rule; place contract in mesh docs.\n- Next: Add default lock-group list for this repo; record decision in bead.\n- Blockers: none\n\n## Verification\n- [ ] bd show .dotfiles-dsk.1.1  # decision recorded w/ examples\n- [ ] rg -n \"mesh-lock\" codex/skills/mesh/SKILL.md  # contract visible","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T23:27:11.391988-08:00","created_by":"tk","updated_at":"2026-01-11T10:48:31.804994-08:00","closed_at":"2026-01-11T10:48:31.804994-08:00","close_reason":"Documented mesh lock-group convention + scheduler rule; added default lock groups; PR https://github.com/tkersey/dotfiles/pull/11","dependencies":[{"issue_id":".dotfiles-dsk.1.1","depends_on_id":".dotfiles-dsk.1","type":"parent-child","created_at":"2026-01-10T23:27:11.392791-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.1.2","title":"Contract: audit logging via bd audit record (kinds/fields/pattern)","notes":"## Status\n- Now: PR open; ready to close bead.\n- Next: close bead once approved/merged.\n- Blockers: none\n\n## Verification\n- [x] bd audit record --help  # supported flags confirmed\n- [x] rg -n \"Audit logging contract\" codex/skills/mesh/SKILL.md  # pass\n- [x] PR: https://github.com/tkersey/dotfiles/pull/9","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T23:27:11.455645-08:00","created_by":"tk","updated_at":"2026-01-11T09:10:11.394132-08:00","closed_at":"2026-01-11T09:10:11.394132-08:00","close_reason":"Documented audit logging contract; PR #9","dependencies":[{"issue_id":".dotfiles-dsk.1.2","depends_on_id":".dotfiles-dsk.1","type":"parent-child","created_at":"2026-01-10T23:27:11.459205-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.1.3","title":"Contract: durable agent pool (labels, slot semantics, actor attribution)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T23:27:11.514965-08:00","created_by":"tk","updated_at":"2026-01-11T19:28:42.801598-08:00","closed_at":"2026-01-11T19:28:42.801598-08:00","close_reason":"Implemented: durable mesh agent pool contract documented (naming/labels/state/slot/actor attribution)","dependencies":[{"issue_id":".dotfiles-dsk.1.3","depends_on_id":".dotfiles-dsk.1","type":"parent-child","created_at":"2026-01-10T23:27:11.51782-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.1.4","title":"Contract: sub-agent bd read-only wrapper allowlist + rules","notes":"## Status\n- Now: allowlist/rules documented in codex/skills/mesh/SKILL.md\n- Next: close bead after PR + verification\n- Blockers: none\n\n## Verification\n- [x] rg -n \"Sub-agent bd read-only wrapper\" codex/skills/mesh/SKILL.md\n- [x] bd --help | rg -- \"--readonly|--sandbox\"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T23:27:11.575105-08:00","created_by":"tk","updated_at":"2026-01-11T10:19:12.099515-08:00","closed_at":"2026-01-11T10:19:12.099515-08:00","close_reason":"Documented mesh-bd-ro allowlist + rules in mesh skill (PR #10).","dependencies":[{"issue_id":".dotfiles-dsk.1.4","depends_on_id":".dotfiles-dsk.1","type":"parent-child","created_at":"2026-01-10T23:27:11.576304-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.1.5","title":"Contract: formulas mol-mesh-run + mol-mesh-arm (vars/steps/defaults)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T23:27:11.629155-08:00","created_by":"tk","updated_at":"2026-01-11T08:42:11.51243-08:00","closed_at":"2026-01-11T08:42:11.51243-08:00","close_reason":"Recorded mol-mesh-run/arm contract (names, vars, steps) and published it in mesh skill doc.","dependencies":[{"issue_id":".dotfiles-dsk.1.5","depends_on_id":".dotfiles-dsk.1","type":"parent-child","created_at":"2026-01-10T23:27:11.631171-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.2","title":"mesh vNext: formulas","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-10T23:15:11.737684-08:00","created_by":"tk","updated_at":"2026-01-10T23:15:11.737684-08:00","dependencies":[{"issue_id":".dotfiles-dsk.2","depends_on_id":".dotfiles-dsk","type":"parent-child","created_at":"2026-01-10T23:15:11.738975-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.2.1","title":"Implement formula: mol-mesh-run (persistent orchestration session)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T23:27:11.917044-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:11.917044-08:00","dependencies":[{"issue_id":".dotfiles-dsk.2.1","depends_on_id":".dotfiles-dsk.2","type":"parent-child","created_at":"2026-01-10T23:27:11.919903-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.2.1","depends_on_id":".dotfiles-dsk.1.5","type":"blocks","created_at":"2026-01-10T23:27:12.070601-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.2.2","title":"Implement formula: mol-mesh-arm (ephemeral per-agent arm)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T23:27:11.971898-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:11.971898-08:00","dependencies":[{"issue_id":".dotfiles-dsk.2.2","depends_on_id":".dotfiles-dsk.2","type":"parent-child","created_at":"2026-01-10T23:27:11.973072-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.2.2","depends_on_id":".dotfiles-dsk.1.5","type":"blocks","created_at":"2026-01-10T23:27:12.115778-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.2.3","title":"Checkpoint: formulas compile + pour/bond dry-run","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T23:27:12.025586-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:12.025586-08:00","dependencies":[{"issue_id":".dotfiles-dsk.2.3","depends_on_id":".dotfiles-dsk.2","type":"parent-child","created_at":"2026-01-10T23:27:12.026791-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.2.3","depends_on_id":".dotfiles-dsk.2.1","type":"blocks","created_at":"2026-01-10T23:27:12.165427-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.2.3","depends_on_id":".dotfiles-dsk.2.2","type":"blocks","created_at":"2026-01-10T23:27:12.213309-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.3","title":"mesh vNext: scripts","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-10T23:15:11.791998-08:00","created_by":"tk","updated_at":"2026-01-10T23:15:11.791998-08:00","dependencies":[{"issue_id":".dotfiles-dsk.3","depends_on_id":".dotfiles-dsk","type":"parent-child","created_at":"2026-01-10T23:15:11.793274-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.3.1","title":"Scaffold: codex/skills/mesh/scripts + shared helpers","notes":"## Status\n- Now: Scaffolded mesh scripts dir with shared helper + stub entrypoint.\n- Next: Run validations (format/lint/build/tests) or mark N/A.\n- Blockers: None.\n\n## Verification\n- [x] ls codex/skills/mesh/scripts  # helper + stub present","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:27:12.408495-08:00","created_by":"tk","updated_at":"2026-01-12T06:02:54.380573-08:00","closed_at":"2026-01-12T06:02:54.380573-08:00","close_reason":"Implemented: scaffold mesh scripts dir + helper + stub (PR #14)","dependencies":[{"issue_id":".dotfiles-dsk.3.1","depends_on_id":".dotfiles-dsk.3","type":"parent-child","created_at":"2026-01-10T23:27:12.409832-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.3.10","title":"Checkpoint: mesh-run end-to-end dry-run (JSON-first)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T23:27:12.909089-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:12.909089-08:00","dependencies":[{"issue_id":".dotfiles-dsk.3.10","depends_on_id":".dotfiles-dsk.3","type":"parent-child","created_at":"2026-01-10T23:27:12.911294-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.10","depends_on_id":".dotfiles-dsk.3.9","type":"blocks","created_at":"2026-01-10T23:27:13.826027-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.3.2","title":"Implement script: mesh-bd-ro (bd --readonly --sandbox allowlist wrapper)","notes":"## Status\n- Now: rerun mesh-bd-ro show validation after bd sync import.\n- Next: close bead once verification recorded.\n- Blockers: None.\n\n## Verification\n- [x] bash -n codex/skills/mesh/scripts/mesh-lib.sh codex/skills/mesh/scripts/mesh-bd-ro  # pass\n- [x] codex/skills/mesh/scripts/mesh-bd-ro --help  # usage renders\n- [x] codex/skills/mesh/scripts/mesh-bd-ro show .dotfiles-dsk.3.2 --json  # pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:27:12.463779-08:00","created_by":"tk","updated_at":"2026-01-12T08:52:26.924598-08:00","closed_at":"2026-01-12T08:52:26.924598-08:00","close_reason":"Implemented: mesh-bd-ro allowlist wrapper with verified read-only access","dependencies":[{"issue_id":".dotfiles-dsk.3.2","depends_on_id":".dotfiles-dsk.3","type":"parent-child","created_at":"2026-01-10T23:27:12.46491-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.2","depends_on_id":".dotfiles-dsk.3.1","type":"blocks","created_at":"2026-01-10T23:27:12.957522-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.2","depends_on_id":".dotfiles-dsk.1.4","type":"blocks","created_at":"2026-01-10T23:27:13.000111-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.3.3","title":"Implement script: mesh-agent-pool (durable agents, hook slot, state)","notes":"## Status\n- Now: Implemented mesh-agent-pool script for ensure/acquire/release.\n- Next: Close bead after PR review.\n- Blockers: None.\n\n## Verification\n- [x] bash -n codex/skills/mesh/scripts/mesh-agent-pool  # pass\n- [x] codex/skills/mesh/scripts/mesh-agent-pool --help  # pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:27:12.517892-08:00","created_by":"tk","updated_at":"2026-01-12T09:37:13.090583-08:00","closed_at":"2026-01-12T09:37:13.090583-08:00","close_reason":"Implemented: mesh-agent-pool script for durable agent pool operations (ensure/id/acquire/release); PR #16","dependencies":[{"issue_id":".dotfiles-dsk.3.3","depends_on_id":".dotfiles-dsk.3","type":"parent-child","created_at":"2026-01-10T23:27:12.519074-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.3","depends_on_id":".dotfiles-dsk.3.1","type":"blocks","created_at":"2026-01-10T23:27:13.04433-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.3","depends_on_id":".dotfiles-dsk.1.3","type":"blocks","created_at":"2026-01-10T23:27:13.087623-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.3.4","title":"Implement script: mesh-workspace (bd worktree create/remove wrapper)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T23:27:12.572607-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:12.572607-08:00","dependencies":[{"issue_id":".dotfiles-dsk.3.4","depends_on_id":".dotfiles-dsk.3","type":"parent-child","created_at":"2026-01-10T23:27:12.573798-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.4","depends_on_id":".dotfiles-dsk.3.1","type":"blocks","created_at":"2026-01-10T23:27:13.130862-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.3.5","title":"Implement script: mesh-merge-slot (acquire/release wrapper)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T23:27:12.626687-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:12.626687-08:00","dependencies":[{"issue_id":".dotfiles-dsk.3.5","depends_on_id":".dotfiles-dsk.3","type":"parent-child","created_at":"2026-01-10T23:27:12.627824-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.5","depends_on_id":".dotfiles-dsk.3.1","type":"blocks","created_at":"2026-01-10T23:27:13.174179-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.3.6","title":"Implement script: mesh-gates (gate discover/check wrappers)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T23:27:12.681405-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:12.681405-08:00","dependencies":[{"issue_id":".dotfiles-dsk.3.6","depends_on_id":".dotfiles-dsk.3","type":"parent-child","created_at":"2026-01-10T23:27:12.682653-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.6","depends_on_id":".dotfiles-dsk.3.1","type":"blocks","created_at":"2026-01-10T23:27:13.219306-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.3.7","title":"Implement script: mesh-audit (bd audit record integration)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T23:27:12.736298-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:12.736298-08:00","dependencies":[{"issue_id":".dotfiles-dsk.3.7","depends_on_id":".dotfiles-dsk.3","type":"parent-child","created_at":"2026-01-10T23:27:12.737542-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.7","depends_on_id":".dotfiles-dsk.3.1","type":"blocks","created_at":"2026-01-10T23:27:13.262375-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.7","depends_on_id":".dotfiles-dsk.1.2","type":"blocks","created_at":"2026-01-10T23:27:13.30725-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.3.8","title":"Implement script: mesh-run (resolve target, spawn mesh-run mol, wave loop)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T23:27:12.791716-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:12.791716-08:00","dependencies":[{"issue_id":".dotfiles-dsk.3.8","depends_on_id":".dotfiles-dsk.3","type":"parent-child","created_at":"2026-01-10T23:27:12.795994-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.8","depends_on_id":".dotfiles-dsk.3.1","type":"blocks","created_at":"2026-01-10T23:27:13.349067-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.8","depends_on_id":".dotfiles-dsk.1.5","type":"blocks","created_at":"2026-01-10T23:27:13.39166-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.8","depends_on_id":".dotfiles-dsk.1.1","type":"blocks","created_at":"2026-01-10T23:27:13.435644-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.3.9","title":"Integration: mesh-run integrates workspace/audit/gates/merge-slot","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T23:27:12.849899-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:12.849899-08:00","dependencies":[{"issue_id":".dotfiles-dsk.3.9","depends_on_id":".dotfiles-dsk.3","type":"parent-child","created_at":"2026-01-10T23:27:12.851473-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.9","depends_on_id":".dotfiles-dsk.3.8","type":"blocks","created_at":"2026-01-10T23:27:13.479214-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.9","depends_on_id":".dotfiles-dsk.3.2","type":"blocks","created_at":"2026-01-10T23:27:13.522399-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.9","depends_on_id":".dotfiles-dsk.3.3","type":"blocks","created_at":"2026-01-10T23:27:13.564898-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.9","depends_on_id":".dotfiles-dsk.3.4","type":"blocks","created_at":"2026-01-10T23:27:13.607983-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.9","depends_on_id":".dotfiles-dsk.3.5","type":"blocks","created_at":"2026-01-10T23:27:13.651274-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.9","depends_on_id":".dotfiles-dsk.3.6","type":"blocks","created_at":"2026-01-10T23:27:13.694514-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.9","depends_on_id":".dotfiles-dsk.3.7","type":"blocks","created_at":"2026-01-10T23:27:13.738574-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.3.9","depends_on_id":".dotfiles-dsk.2.3","type":"blocks","created_at":"2026-01-10T23:27:13.782096-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.4","title":"mesh vNext: docs","status":"open","priority":3,"issue_type":"epic","created_at":"2026-01-10T23:15:11.847727-08:00","created_by":"tk","updated_at":"2026-01-10T23:15:11.847727-08:00","dependencies":[{"issue_id":".dotfiles-dsk.4","depends_on_id":".dotfiles-dsk","type":"parent-child","created_at":"2026-01-10T23:15:11.848971-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.4.1","title":"Docs: rewrite codex/skills/mesh/SKILL.md to formula-first","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-10T23:27:14.314951-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:14.314951-08:00","dependencies":[{"issue_id":".dotfiles-dsk.4.1","depends_on_id":".dotfiles-dsk.4","type":"parent-child","created_at":"2026-01-10T23:27:14.316084-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.4.2","title":"Checkpoint: docs match final scripts + formula names","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-10T23:27:14.369441-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:14.369441-08:00","dependencies":[{"issue_id":".dotfiles-dsk.4.2","depends_on_id":".dotfiles-dsk.4","type":"parent-child","created_at":"2026-01-10T23:27:14.370605-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.4.2","depends_on_id":".dotfiles-dsk.4.1","type":"blocks","created_at":"2026-01-10T23:27:14.413881-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.4.2","depends_on_id":".dotfiles-dsk.2.3","type":"blocks","created_at":"2026-01-10T23:27:14.457293-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.4.2","depends_on_id":".dotfiles-dsk.3.10","type":"blocks","created_at":"2026-01-10T23:27:14.500211-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.5","title":"mesh vNext: dogfood + distill","status":"open","priority":3,"issue_type":"epic","created_at":"2026-01-10T23:15:11.90154-08:00","created_by":"tk","updated_at":"2026-01-10T23:15:11.90154-08:00","dependencies":[{"issue_id":".dotfiles-dsk.5","depends_on_id":".dotfiles-dsk","type":"parent-child","created_at":"2026-01-10T23:15:11.902793-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.5.1","title":"Bootstrap: create merge-slot bead for this rig","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-10T23:27:14.641658-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:14.641658-08:00","dependencies":[{"issue_id":".dotfiles-dsk.5.1","depends_on_id":".dotfiles-dsk.5","type":"parent-child","created_at":"2026-01-10T23:27:14.642792-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.5.2","title":"Dogfood: run mesh-run on a real target mol/swarm","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-10T23:27:14.696931-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:14.696931-08:00","dependencies":[{"issue_id":".dotfiles-dsk.5.2","depends_on_id":".dotfiles-dsk.5","type":"parent-child","created_at":"2026-01-10T23:27:14.698039-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.5.2","depends_on_id":".dotfiles-dsk.3.10","type":"blocks","created_at":"2026-01-10T23:27:14.802375-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.5.2","depends_on_id":".dotfiles-dsk.2.3","type":"blocks","created_at":"2026-01-10T23:27:14.851907-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.5.2","depends_on_id":".dotfiles-dsk.5.1","type":"blocks","created_at":"2026-01-10T23:27:14.901137-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.5.3","title":"Distill: capture improvements back into formulas (bd mol distill)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-10T23:27:14.753344-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:14.753344-08:00","dependencies":[{"issue_id":".dotfiles-dsk.5.3","depends_on_id":".dotfiles-dsk.5","type":"parent-child","created_at":"2026-01-10T23:27:14.754595-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.5.3","depends_on_id":".dotfiles-dsk.5.2","type":"blocks","created_at":"2026-01-10T23:27:14.954933-08:00","created_by":"tk"}]}
{"id":".dotfiles-dsk.6","title":"Checkpoint: Mesh vNext delivered (formulas + scripts + docs + dogfood)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T23:27:15.139146-08:00","created_by":"tk","updated_at":"2026-01-10T23:27:15.139146-08:00","dependencies":[{"issue_id":".dotfiles-dsk.6","depends_on_id":".dotfiles-dsk","type":"parent-child","created_at":"2026-01-10T23:27:15.140412-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.6","depends_on_id":".dotfiles-dsk.4.2","type":"blocks","created_at":"2026-01-10T23:27:15.184919-08:00","created_by":"tk"},{"issue_id":".dotfiles-dsk.6","depends_on_id":".dotfiles-dsk.5.3","type":"blocks","created_at":"2026-01-10T23:27:15.231216-08:00","created_by":"tk"}]}
{"id":".dotfiles-ule","title":"mesh: beads-native swarm orchestration (cx + jj)","description":"Goal: upgrade `codex/skills/mesh/SKILL.md` so any agent can reliably coordinate a swarm of sub-agents to complete a bead (typically an epic) using Beads primitives + cx spawning + jj workspaces.\n\nKey design constraints (decided):\n- Operate at epic-children level via `bd swarm status/validate`.\n- If given a non-epic bead, allow `bd swarm create \u003cbead\u003e` auto-wrap (1-child epic) but do NOT auto-beadify/split; if parallelism is needed, use gen-beads first.\n- Sub-agents are ephemeral and spawned via the `cx` skill.\n- No shared beads state across jj workspaces: sub-agents do NOT run `bd`; the coordinator writes bead comments + agent state.\n- Canonical coordination:\n  - assignment: `bd slot set \u003cagent\u003e hook \u003cbead\u003e`\n  - liveness: `bd agent state/heartbeat` (coordinator-updated in this mode)\n- Isolation: `jj workspace add` per bead at `../workspaces/\u003crepo\u003e/\u003cbead-id\u003e/`.\n- Done means: PR opened + coordinator records PR + verification in bead comments.\n- Scheduling: propose an ordered heuristic (priority → unlocks → checkpoints → manual), but always ask for a cap when spawning.\n\nThis epic is a planning/implementation container. Child beads should be independently PR-able, and the graph should allow parallel drafting with an explicit integration/join bead.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-10T10:00:14.247902-08:00","created_by":"tk","updated_at":"2026-01-10T17:15:53.989432-08:00","closed_at":"2026-01-10T17:15:53.989432-08:00","close_reason":"Completed: all child beads merged; mesh SKILL.md runbook integrated with example"}
{"id":".dotfiles-ule.1","title":"mesh: contract — entrypoints, scope, target selection","description":"Define and document how the mesh coordinator chooses what to swarm.\n\nFocus:\n- Supported inputs (explicit epic ID, current bead, list of bead IDs).\n- Default behavior: epic-first; if non-epic is provided, allow `bd swarm create \u003cid\u003e` to auto-wrap into a 1-child epic.\n- Scope confirmation protocol (avoid accidental wide fanout): require the user to confirm the epic + child list before spawning.\n- Explicit statement that mesh does NOT auto-beadify (no automatic splitting into children); it expects a good DAG already.\n- Guidance for the “only one child / no parallelism” case: stop and recommend using gen-beads to create child beads + deps.\n\nDeliverable: an updated section in `codex/skills/mesh/SKILL.md` describing these contracts and the exact bd commands to use.\n\nWorkstream: Mesh Spec\nRole: contract\nParallelism impact: unlocks 3 beads\nRationale: entrypoint clarity prevents swarm misfires.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T10:00:14.305423-08:00","created_by":"tk","updated_at":"2026-01-10T10:55:08.660434-08:00","closed_at":"2026-01-10T10:55:08.660434-08:00","close_reason":"Implemented: documented mesh entrypoints + scope contract with epic-first swarm commands","dependencies":[{"issue_id":".dotfiles-ule.1","depends_on_id":".dotfiles-ule","type":"parent-child","created_at":"2026-01-10T10:00:14.30869-08:00","created_by":"tk"}]}
{"id":".dotfiles-ule.2","title":"mesh: contract — scheduling + wave selection (priority→unlocks→checkpoints→manual)","description":"Define and document the mesh scheduling algorithm.\n\nDecided heuristics (in order):\n1) `bd` priority first.\n2) Maximize unlocks (prefer contract/high-fanout beads).\n3) Prefer checkpoint/integration beads when they are ready.\n4) Always allow/encourage manual pick; mesh should present a recommendation, not silently spawn.\n\nAlso capture:\n- No default concurrency cap: coordinator must ask the user per wave.\n- Wave planning from `bd swarm status` (Ready/Blocked/Active/Completed), plus optional `bd swarm validate` for “fronts”.\n- Contention rules: avoid overlapping diffs; serialize beads that touch same files; optionally mention `bd merge-slot` as a merge/conflict primitive.\n\nDeliverable: a scheduling/wave-planning section in `codex/skills/mesh/SKILL.md` with an explicit, actionable decision procedure and a status summary format.\n\nWorkstream: Mesh Scheduling\nRole: contract\nParallelism impact: unlocks 3 beads\nRationale: consistent wave selection keeps the swarm aligned.","notes":"## Status\n- Now: prepare commit + PR, record validation (N/A categories)\n- Next: open PR, add bead comment with PR link + proof\n- Blockers: none\n\n## Verification\n- [x] rg -n \"Scheduling \u0026 Wave Planning\" codex/skills/mesh/SKILL.md  # pass\n- [x] git diff --check                                       # pass (whitespace guard)\n- [ ] formatter/lint/build/tests                             # N/A (no entrypoints)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T10:00:14.363291-08:00","created_by":"tk","updated_at":"2026-01-10T11:59:46.265332-08:00","closed_at":"2026-01-10T11:59:46.265332-08:00","close_reason":"Implemented: mesh scheduling/wave planning procedure documented; PR #4","dependencies":[{"issue_id":".dotfiles-ule.2","depends_on_id":".dotfiles-ule","type":"parent-child","created_at":"2026-01-10T10:00:14.364047-08:00","created_by":"tk"}]}
{"id":".dotfiles-ule.3","title":"mesh: implementation — agent lifecycle via bd agent + bd slot (coordinator-only bd)","description":"Document how mesh represents and tracks sub-agents using Beads, given the “no shared beads across jj workspaces” constraint.\n\nKey behaviors to encode:\n- Coordinator creates an ephemeral agent bead per spawned sub-agent run:\n  - `bd create --type=agent --ephemeral --role-type polecat --agent-rig \u003crig\u003e ...`\n- Coordinator attaches the work bead to the agent using the hook slot:\n  - `bd slot set \u003cagent-id\u003e hook \u003cbead-id\u003e`\n- Coordinator updates agent liveness/state:\n  - `bd agent state \u003cagent-id\u003e spawning|running|working|stuck|done`\n  - `bd agent heartbeat \u003cagent-id\u003e` (optional)\n- Because sub-agents do not run `bd`, the coordinator is responsible for writing progress:\n  - per-bead comments (PR link + verification signal)\n  - epic-level “swarm status” comment aggregating PRs/blockers/next wave\n- Cleanup guidance:\n  - clear hook slot when done\n  - optionally close or delete ephemeral agent beads\n\nDeliverable: a concrete runbook section + command snippets inside `codex/skills/mesh/SKILL.md`.\n\nWorkstream: Mesh Beads Integration\nRole: implementation\nParallelism impact: unlocks 3 beads\nRationale: slots+state provide durable coordination even without shared bd access.","notes":"## Status\n- Now: add agent lifecycle + coordinator logging runbook to codex/skills/mesh/SKILL.md\n- Next: insert command snippets + comment templates; verify requirements satisfied\n- Blockers: none\n\n## Verification\n- [ ] rg -n \"Agent lifecycle|bd slot\" codex/skills/mesh/SKILL.md  # expected: new runbook section present","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T10:00:14.417915-08:00","created_by":"tk","updated_at":"2026-01-10T13:16:12.545232-08:00","closed_at":"2026-01-10T13:16:12.545232-08:00","close_reason":"Documented coordinator-only agent lifecycle with bd slot commands, logging templates, and cleanup guidance; PR #5","dependencies":[{"issue_id":".dotfiles-ule.3","depends_on_id":".dotfiles-ule","type":"parent-child","created_at":"2026-01-10T10:00:14.418506-08:00","created_by":"tk"}]}
{"id":".dotfiles-ule.4","title":"mesh: implementation — jj workspace + cx dispatch recipe (per-bead workspaces)","description":"Document how mesh spins up per-bead jj workspaces and launches cx-based sub-agents in the correct working directory.\n\nDecisions:\n- Workspace path convention: `../workspaces/\u003crepo\u003e/\u003cbead-id\u003e/`.\n- Create with `jj workspace add \u003cpath\u003e [-r \u003crev\u003e]`.\n- Launch sub-agent by running `codex/skills/cx/scripts/cx-exec.sh \"...\"` FROM INSIDE the workspace so code edits land in the right working copy.\n- Sub-agent prompt must include enough bead context (copied from `bd show`) so it can work without running `bd`.\n- Sub-agent must:\n  - use `jujutsu` skill for VCS operations\n  - open a PR\n  - print a final output block the coordinator can copy into bead comments (PR URL, verification, changed paths)\n\nDeliverable: a “Workspace + Dispatch” section and an agent prompt template in `codex/skills/mesh/SKILL.md`.\n\nWorkstream: Mesh Execution\nRole: implementation\nParallelism impact: unlocks 3 beads\nRationale: consistent workspace+dispatch prevents cross-agent working-copy collisions.","notes":"## Status\n- Now: PR open with doc updates for workspace + dispatch + agent prompt template.\n- Next: awaiting review.\n- Blockers: none.\n\n## Verification\n- [x] rg -n \"Workspace \\+ Dispatch|Final output block\" codex/skills/mesh/SKILL.md  # pass\n- [x] N/A format (no formatter/task runner documented)\n- [x] N/A lint/typecheck (no entrypoint documented)\n- [x] N/A build (no build system)\n- [x] N/A tests (no tests configured)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T10:00:14.474376-08:00","created_by":"tk","updated_at":"2026-01-10T13:42:17.532904-08:00","closed_at":"2026-01-10T13:42:17.532904-08:00","close_reason":"Implemented: documented per-bead jj workspace + cx dispatch and expanded prompt template in mesh SKILL","dependencies":[{"issue_id":".dotfiles-ule.4","depends_on_id":".dotfiles-ule","type":"parent-child","created_at":"2026-01-10T10:00:14.475062-08:00","created_by":"tk"}]}
{"id":".dotfiles-ule.5","title":"mesh: checkpoint — integrate SKILL.md into cohesive end-to-end runbook + example","description":"Integrate the parallel sections into a single, coherent `codex/skills/mesh/SKILL.md` that an arbitrary agent can follow end-to-end.\n\nIntegration checklist:\n- Ensure the doc is consistent about:\n  - epic-first swarming via `bd swarm status/validate`\n  - auto-wrap behavior (`bd swarm create \u003cbead\u003e`) and its limitations\n  - no shared bd across jj workspaces (coordinator-only `bd`)\n  - jj workspace path convention + how to dispatch `cx`\n  - scheduling heuristic order: priority → unlocks → checkpoints → manual\n- Include a worked example run (commands + expected outputs) showing:\n  - selecting epic\n  - planning wave\n  - creating ephemeral agent beads + hook slots\n  - launching sub-agents\n  - recording PR+verify into beads (both epic and per-bead)\n\nThis bead is the join point that forces the whole system to read as one story.\n\nWorkstream: Mesh Integration\nRole: checkpoint\nParallelism impact: unlocks 0 beads\nRationale: frequent join points reduce drift across parallel doc edits.","notes":"## Status\n- Now: Review current mesh SKILL.md and integrate sections into a cohesive runbook.\n- Next: Rewrite doc + add worked example; validate commands; run doc checks.\n- Blockers: None.\n\n## Verification\n- [ ] rg -n \"Worked example\" codex/skills/mesh/SKILL.md  # confirm example present\n- [ ] jj diff  # inspect scope","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T10:00:14.529674-08:00","created_by":"tk","updated_at":"2026-01-10T16:57:23.621095-08:00","closed_at":"2026-01-10T16:57:23.621095-08:00","close_reason":"Implemented: integrated mesh SKILL.md into cohesive runbook with worked example","dependencies":[{"issue_id":".dotfiles-ule.5","depends_on_id":".dotfiles-ule","type":"parent-child","created_at":"2026-01-10T10:00:14.530248-08:00","created_by":"tk"},{"issue_id":".dotfiles-ule.5","depends_on_id":".dotfiles-ule.1","type":"blocks","created_at":"2026-01-10T10:00:14.568222-08:00","created_by":"tk"},{"issue_id":".dotfiles-ule.5","depends_on_id":".dotfiles-ule.2","type":"blocks","created_at":"2026-01-10T10:00:14.606466-08:00","created_by":"tk"},{"issue_id":".dotfiles-ule.5","depends_on_id":".dotfiles-ule.3","type":"blocks","created_at":"2026-01-10T10:00:14.646175-08:00","created_by":"tk"},{"issue_id":".dotfiles-ule.5","depends_on_id":".dotfiles-ule.4","type":"blocks","created_at":"2026-01-10T10:00:14.68512-08:00","created_by":"tk"}]}
{"id":".dotfiles-yrd","title":"Resolve PR #14: mesh-lib helpers","description":"Resolve PR #14 by hardening mesh-lib common flag parsing and JSON output (pass-through flags + safe JSON).","notes":"## Status\n- Now: Applied fixes to mesh-lib helper.\n- Next: Push updated PR branch; report findings.\n- Blockers: None.\n\n## Verification\n- [x] bash -n codex/skills/mesh/scripts/mesh-lib.sh codex/skills/mesh/scripts/mesh-bd-ro  # pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T06:11:36.763275-08:00","created_by":"Tim Kersey","updated_at":"2026-01-12T06:13:43.850968-08:00","closed_at":"2026-01-12T06:13:43.850968-08:00","close_reason":"Resolved PR #14: harden mesh-lib flag passthrough + JSON escaping"}
